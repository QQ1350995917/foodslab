{"version":3,"sources":["chart-line.js"],"names":[],"mappings":"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","file":"chart-line-compiled.js","sourcesContent":["/**\n * Created by dingpengwei on 7/15/16.\n */\nwindow.onload = draw();\nfunction ChartItem(name, color, data) {\n    this.name = name;\n    this.color = color;\n    this.data = data;\n}\nfunction Chart() {\n    this.id = \"this is the id\";\n    this.year = \"2016\";\n    this.month = \"05\";\n    this.start = \"01\";\n    this.end = \"31\";\n    this.color = \"#CCCCCC\";\n    this.max = \"100\";\n    this.chartItems = new Array(\n        new ChartItem(\"IP\", \"#FF00FF\", new Array(\"2\", \"4\", \"5\", \"2\", \"3\", \"7\",\"2\", \"4\", \"5\", \"2\", \"3\", \"7\",\"2\", \"4\", \"5\", \"2\", \"10\", \"7\",\"10\", \"10\", \"5\", \"2\", \"3\", \"9\",\"2\", \"4\", \"5\", \"2\", \"3\", \"7\"))\n    );\n};\n\nfunction draw() {\n    var chartCanvas = document.getElementById(\"chart\");\n    var context = chartCanvas.getContext(\"2d\");\n    context.globalCompositeOperation = 'source-atop';\n    var chart = new Chart();\n    drawTable(context, chartCanvas.width, chartCanvas.height, chart);\n    // console.log(chart.chartItems.length)\n    drawChart(context,chartCanvas.width,chartCanvas.height,chart.chartItems);\n}\n\nfunction drawChart(context,width, height,chartItems) {\n    var length = chartItems.length;\n    context.save();\n    for(var index =0;index < length ;index ++){\n        var chartItem = chartItems[index];\n        context.moveTo(xOffset, height - yOffset);\n        for(var i = 0;i< chartItem.data.length;i++){\n            context.lineTo(xSpace * (i + 1) + xOffset, height - chartItem.data[i] * ySpace);\n            context.moveTo(xSpace * (i + 1) + xOffset, height - chartItem.data[i] * ySpace);\n        }\n    }\n    context.lineWidth = chart;\n    context.strokeStyle = '#000000';\n    context.stroke();\n    context.restore();\n}\nvar xOffset = 5.5;\nvar yOffset = 5.5;\nvar xSpace = 0;\nvar ySpace = 0;\nfunction drawTable(context, width, height, chart) {\n    context.save();\n    xOffset = 5.5;yOffset = 5.5\n    console.log(\"画布的宽度和高度分别是:\" + xOffset + \"-\" + yOffset);\n    context.moveTo(xOffset, height - yOffset);\n    context.lineTo(width - xOffset, height - yOffset);\n    context.lineWidth = chart;\n    context.strokeStyle = '#000000';\n    context.stroke();\n    var xCounter = 32;\n    xSpace = (width - 2 * xOffset) / xCounter;\n    for (var index = 0; index < xCounter; index++) {\n        var startX = xOffset + index * xSpace;\n        context.moveTo(startX, yOffset);\n        context.lineTo(startX, height - yOffset);\n        context.fillText(append(index, 2), startX - xOffset, height - 1.5 * yOffset);\n    }\n    context.restore();\n    context.save();\n    var yCounter = 10;\n    ySpace = (height - 2 * yOffset) / yCounter;\n    for (var index = 0; index < yCounter; index++) {\n        var startY = yOffset + index * ySpace;\n        context.moveTo(xOffset, startY + 5);\n        context.lineTo(width - xOffset, startY + 5);\n        context.fillText(append(yCounter - index, 2), 0, startY + 5);\n    }\n    context.lineWidth = chart;\n    context.strokeStyle = 'red';\n    context.stroke();\n    context.restore();\n}\n\nfunction append(num, n) {\n    var len = num.toString().length;\n    while (len < n) {\n        num = \"0\" + num;\n        len++;\n    }\n    return num;\n}\n\n\n/*\n //该数据结构描述了某年某月的流量数据\n {\"id\":\"this is the id\",\"year\":\"2016\",\"month\":\"05\",\"start\":\"01\",\"end\":\"31\",\"data\":[{\"name\":\"IP\",\"color\":\"#FF00FF\",\"data\":[\"20\",\"20\",\"20\"]},{\"name\":\"PV\",\"color\":\"#FF00FF\",\"data\":[\"20\",\"20\",\"20\"]},{\"name\":\"VV\",\"color\":\"#FF00FF\",\"data\":[\"20\",\"20\",\"20\"]},{\"name\":\"UV\",\"color\":\"#FF00FF\",\"data\":[\"20\",\"20\",\"20\"]}]}\n\n {\n \"id\": \"this is the id\",\n \"year\": \"2016\",\n \"month\": \"05\",\n \"start\": \"01\",\n \"end\": \"31\",\n \"data\": [\n {\n \"name\": \"IP\",\n \"color\": \"#FF00FF\",\n \"data\": [\n \"20\",\n \"20\",\n \"20\"\n ]\n },\n {\n \"name\": \"PV\",\n \"color\": \"#FF00FF\",\n \"data\": [\n \"20\",\n \"20\",\n \"20\"\n ]\n },\n {\n \"name\": \"VV\",\n \"color\": \"#FF00FF\",\n \"data\": [\n \"20\",\n \"20\",\n \"20\"\n ]\n },\n {\n \"name\": \"UV\",\n \"color\": \"#FF00FF\",\n \"data\": [\n \"20\",\n \"20\",\n \"20\"\n ]\n }\n ]\n }\n */\n"]}